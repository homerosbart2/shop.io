{"code":"(this[\"webpackJsonpshop.io\"]=this[\"webpackJsonpshop.io\"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){\"use strict\";n.r(t);var c,a=n(0),s=n(1),r=n.n(s),i=n(19),o=n.n(i),u=(n(26),n(11)),l=n(6),d=n(4),j=n.n(d),b=n(7),O=n(5);n(28);!function(e){e.GREEN=\"green\",e.ORANGE=\"orange\"}(c||(c={}));var h,m,f=function(e){return Object(a.jsx)(\"div\",{className:\"button \".concat(e.color,\" \").concat(!1!==e.shown?\"shown\":\"\"),onClick:e.onClick,children:e.children})},p=/[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+/,x=(n(29),n(8)),v=n(12),g=n(2);!function(e){e.JSON=\"application/json\"}(h||(h={})),function(e){e.GET=\"GET\",e.POST=\"POST\",e.PATCH=\"PATCH\",e.PUT=\"PUT\",e.DELETE=\"DELETE\"}(m||(m={}));var N,C=function(e,t,n){return new Promise((function(c){fetch(\"\".concat(\"http://localhost:3002\",\"/\").concat(t),{method:e,headers:{\"Content-Type\":h.JSON},body:n?JSON.stringify(n):null}).then((function(e){e.json().then((function(t){c(Object(l.a)(Object(l.a)({},t),{},{status:e.status}))}))})).catch((function(e){console.error(e)}))}))},S=function(e){return C(m.GET,e)},y=function(e,t){return C(m.POST,e,t)},w=function(){function e(){var t=this;Object(x.a)(this,e),this.products=[],this.isIndexing=!1,this.index=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isIndexing=!0,e.next=3,S(t.path);case 3:return n=e.sent,Object(g.m)((function(){n.successful&&n.data&&(t.products=n.data)})),t.isIndexing=!1,e.abrupt(\"return\",n.successful);case 7:case\"end\":return e.stop()}}),e)}))),Object(g.k)(this)}return Object(v.a)(e,[{key:\"mappedProducts\",get:function(){return this.products.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},t.id,t))}),{})}},{key:\"path\",get:function(){return\"product\"}}]),e}(),T=function(){function e(){var t=this;Object(x.a)(this,e),this.user=void 0,this.isShowing=!1,this.isCreating=!1,this.show=function(){var e=Object(b.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isShowing=!0,e.next=3,S(\"\".concat(t.path,\"/\").concat(n));case 3:return c=e.sent,Object(g.m)((function(){c.successful&&c.data&&(t.user=c.data)})),t.isShowing=!1,e.abrupt(\"return\",c.successful);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(b.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isCreating=!0,e.next=3,y(t.path,n);case 3:return c=e.sent,Object(g.m)((function(){c.successful&&c.data&&(t.user=c.data)})),t.isCreating=!1,e.abrupt(\"return\",c.successful);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(g.k)(this)}return Object(v.a)(e,[{key:\"path\",get:function(){return\"user\"}}]),e}(),k=function(){function e(){var t=this;Object(x.a)(this,e),this.isCreating=!1,this.isPaying=!1,this.create=function(){var e=Object(b.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isCreating=!0,e.next=3,y(t.path,n);case 3:return c=e.sent,t.isCreating=!1,e.abrupt(\"return\",c.successful);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.pay=function(){var e=Object(b.a)(j.a.mark((function e(n,c){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPaying=!0,e.next=3,y(\"\".concat(t.path,\"/pay\"),{id:n,amount:c});case 3:return a=e.sent,t.isPaying=!1,e.abrupt(\"return\",a.successful);case 6:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Object(g.k)(this)}return Object(v.a)(e,[{key:\"path\",get:function(){return\"order\"}}]),e}(),E=new w,I=new T,A=new k,P=Object(s.createContext)({productStore:E,userStore:I,orderStore:A}),G=function(){return Object(s.useContext)(P)},R=n(13);!function(e){e[e.LOGIN=0]=\"LOGIN\",e[e.REGISTRATION=1]=\"REGISTRATION\"}(N||(N={}));var L,M={name:\"\",email:\"\"},F=Object(R.a)((function(e){var t=G().userStore.user,n=Object(s.useState)(M),r=Object(O.a)(n,2),i=r[0],o=r[1],u=Object(s.useState)(N.LOGIN),d=Object(O.a)(u,2),j=d[0],b=d[1],h=e.onSignIn;Object(s.useEffect)((function(){if(!t){var e=localStorage.getItem(\"loggedInUserEmail\");e&&h({email:e},!1)}}),[h,t]);return Object(a.jsxs)(\"div\",{className:\"login \".concat(e.loggedIn?\"\":\"shown\"),children:[Object(a.jsxs)(\"div\",{className:\"brand\",children:[\"shop\",Object(a.jsx)(\"span\",{className:\"secondary\",children:\".io\"})]}),Object(a.jsx)(\"input\",{className:\"user-name-input \".concat(j===N.LOGIN?\"\":\"shown\"),type:\"text\",name:\"name\",value:i.name,placeholder:\"Name: John Wick\",onChange:function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},{name:e.target.value})}))}}),Object(a.jsx)(\"input\",{type:\"text\",name:\"email\",value:i.email,placeholder:\"Email: myname@email.com\",onChange:function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},{email:e.target.value})}))}}),Object(a.jsxs)(\"div\",{className:\"buttons\",children:[Object(a.jsx)(f,{color:c.ORANGE,onClick:function(){b((function(e){return e===N.REGISTRATION?N.LOGIN:N.REGISTRATION}))},children:j===N.REGISTRATION?\"Sign In\":\"Sign Up\"}),Object(a.jsx)(f,{color:c.GREEN,onClick:function(){i.email.match(p)?j===N.REGISTRATION?i.name?e.onSignIn(i,!0):e.onFail(\"Please insert your name.\"):e.onSignIn({email:i.email},!1):e.onFail(\"Incorrect email format.\")},children:\"Accept\"})]})]})})),J=n(9),B=(n(35),function(e){return Object(a.jsxs)(\"div\",{className:\"product\",children:[Object(a.jsxs)(\"div\",{className:\"card\",children:[Object(a.jsx)(\"div\",{className:\"image\",style:{backgroundColor:e.product.color}}),Object(a.jsx)(\"div\",{className:\"name\",children:e.product.name}),Object(a.jsx)(\"div\",{className:\"quantity\",children:e.product.quantity}),Object(a.jsxs)(\"div\",{className:\"add-to-cart\",onClick:function(){e.onAddToCart(e.product)},children:[Object(a.jsx)(J.a,{icon:\"shopping-cart\"}),\" Add one\"]})]}),Object(a.jsxs)(\"div\",{className:\"price\",children:[\"$\",(e.product.price/100).toFixed(2)]})]})}),z=(n(36),function(e){return Object(a.jsxs)(\"div\",{className:\"navbar\",children:[Object(a.jsxs)(\"div\",{className:\"brand\",children:[\"shop\",Object(a.jsx)(\"span\",{className:\"secondary\",children:\".io\"})]}),Object(a.jsxs)(\"div\",{className:\"actions\",children:[Object(a.jsxs)(\"div\",{className:\"action \".concat(e.shopMode===L.CATALOGE?\"selected\":\"\"),onClick:function(){e.shopMode!==L.CATALOGE&&e.onShopModeChange(L.CATALOGE)},children:[Object(a.jsx)(J.a,{icon:\"store\"}),Object(a.jsx)(\"div\",{className:\"selected-indicator\"})]}),Object(a.jsxs)(\"div\",{className:\"action \".concat(e.shopMode===L.CART?\"selected\":\"\"),onClick:function(){e.shopMode!==L.CART&&e.onShopModeChange(L.CART)},children:[Object(a.jsx)(J.a,{icon:\"shopping-cart\"}),Object(a.jsx)(\"div\",{className:\"counter \".concat(e.inCartProductCount>0?\"shown\":\"\"),children:e.inCartProductCount}),Object(a.jsx)(\"div\",{className:\"selected-indicator\"})]}),Object(a.jsxs)(\"div\",{className:\"action\",style:{fontSize:18},onClick:e.onSignOut,children:[Object(a.jsx)(J.a,{icon:\"sign-out-alt\"}),Object(a.jsx)(\"div\",{className:\"selected-indicator\"})]})]})]})}),U=n(20),q=n(10),D=(n(37),function(){return Object(a.jsxs)(\"div\",{className:\"loading-spinner\",children:[Object(a.jsx)(\"div\",{}),Object(a.jsx)(\"div\",{}),Object(a.jsx)(\"div\",{}),Object(a.jsx)(\"div\",{})]})}),H=(n(38),Object(R.a)((function(e){var t=G(),n=t.orderStore.isPaying||t.orderStore.isCreating,r=Object(s.useState)(!1),i=Object(O.a)(r,2),o=i[0],u=i[1],l=Object(s.useState)(!1),d=Object(O.a)(l,2),h=d[0],m=d[1],p=Object(q.useStripe)(),x=Object(q.useElements)(),v=function(){var n=Object(b.a)(j.a.mark((function n(c){var a,s,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),!p||!x){n.next=18;break}return m(!0),n.next=5,p.createPaymentMethod({type:\"card\",card:x.getElement(q.CardElement)});case 5:if(a=n.sent,s=a.error,r=a.paymentMethod,m(!1),s){n.next=17;break}if(!r){n.next=15;break}return n.next=13,t.orderStore.pay(r.id,e.amount);case 13:if(!n.sent){n.next=15;break}e.onPaySuccess();case 15:n.next=18;break;case 17:console.log(s.message);case 18:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsx)(\"div\",{className:\"checkout-form \".concat(e.shown?\"shown\":\"\"),children:Object(a.jsxs)(\"form\",{onSubmit:v,children:[Object(a.jsx)(q.CardElement,{onChange:function(e){var t=e.complete;u(t)}}),Object(a.jsxs)(\"div\",{className:\"buttons\",children:[Object(a.jsx)(f,{color:c.ORANGE,onClick:e.onCancelButtonClick,children:\"Cancel\"}),Object(a.jsx)(\"button\",{className:o?\"\":\"disabled\",children:n||h?Object(a.jsx)(D,{}):\"Pay\"})]})]})})}))),K=Object(U.a)(\"pk_test_51HpP5lGq34SadLyT4eHD7y2xLr9RK5412Z89ansl8OElyxGRuX6vARNE43KkPtzYInp8zBnrMTLyzYEIn8T9RIIs002h4K7uHN\"),Y=function(e){return Object(a.jsx)(q.Elements,{stripe:K,children:Object(a.jsx)(H,{amount:e.amount,shown:e.shown,onCancelButtonClick:e.onCancelButtonClick,onPaySuccess:e.onPaySuccess})})},$=(n(39),function(e){var t=Object(s.useState)(\"\"),n=Object(O.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(!1),o=Object(O.a)(i,2),u=o[0],l=o[1];return Object(s.useEffect)((function(){if(e.message){var t=u;if(r(e.message),l(!0),!t){var n=window.setTimeout((function(){l(!1),window.setTimeout((function(){e.onMessageClear()}),300)}),3e3);return function(){window.clearTimeout(n)}}}}),[e.message]),Object(a.jsx)(\"div\",{className:\"context-message \".concat(u?\"shown\":\"\"),children:c||\"\"})});n(40);!function(e){e[e.CATALOGE=0]=\"CATALOGE\",e[e.CART=1]=\"CART\"}(L||(L={}));var _=Object(R.a)((function(){var e=G(),t=e.productStore,n=t.products,r=t.mappedProducts,i=e.userStore,o=e.userStore.user,d=Object(s.useState)(!1),h=Object(O.a)(d,2),m=h[0],p=h[1],x=Object(s.useState)({}),v=Object(O.a)(x,2),g=v[0],N=v[1],C=Object(s.useState)(L.CATALOGE),S=Object(O.a)(C,2),y=S[0],w=S[1],T=Object(s.useState)(!1),k=Object(O.a)(T,2),E=k[0],I=k[1],A=Object(s.useState)(\"\"),P=Object(O.a)(A,2),R=P[0],M=P[1];Object(s.useEffect)((function(){y===L.CATALOGE&&t.index()}),[y,t]);var U=Object(s.useMemo)((function(){return Object.entries(g).reduce((function(e,t){var n=Object(O.a)(t,2),c=n[0],a=n[1],s=r[c];return{inCartProductCount:e.inCartProductCount+a,total:s?e.total+a*s.price:0}}),{inCartProductCount:0,total:0})}),[g,r]),q=U.inCartProductCount,D=U.total,H=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!1,!n){e.next=7;break}return e.next=4,i.create(t);case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,i.show(t.email);case 9:c=e.sent;case 10:c?(p(!0),w(L.CATALOGE),localStorage.setItem(\"loggedInUserEmail\",t.email),(a=localStorage.getItem(\"shoppingCart::\".concat(t.email)))&&N(JSON.parse(a))):W(\"Your email is not registered, please sign up.\");case 11:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(e){N((function(t){var n=(t[e.id]||0)+1,c=n<=e.quantity,a=c?Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.id,n)):t;return c||W(\"Not enough stock.\"),o&&localStorage.setItem(\"shoppingCart::\".concat(o.email),JSON.stringify(a)),a}))},_=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0);case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=8;break}return t.next=3,e.orderStore.create({shoppingCart:g,user:o});case 3:if(!t.sent){t.next=7;break}N({}),I(!1),localStorage.setItem(\"shoppingCart::\".concat(o.email),JSON.stringify({}));case 7:case 8:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(e){M(e)};return Object(a.jsxs)(\"div\",{className:\"shop\",children:[Object(a.jsx)(F,{loggedIn:m,onSignIn:H,onFail:W}),Object(a.jsxs)(\"div\",{className:\"manager \".concat(m?\"shown\":\"\"),children:[Object(a.jsx)(z,{shopMode:y,inCartProductCount:q,onShopModeChange:function(e){w(e)},onSignOut:function(){p(!1),N({}),localStorage.removeItem(\"loggedInUserEmail\")}}),Object(a.jsx)(\"div\",{className:\"catalogue\",children:n.map((function(e){return Object(a.jsx)(B,{product:e,onAddToCart:K},\"product-\".concat(e.id))}))}),Object(a.jsx)(\"div\",{className:\"cart \".concat(y===L.CART?\"shown\":\"\"),children:Object(a.jsxs)(\"div\",{className:\"summary\",children:[Object(a.jsxs)(\"div\",{className:\"table\",children:[Object(a.jsxs)(\"div\",{className:\"headers\",children:[Object(a.jsx)(\"div\",{className:\"header\"}),Object(a.jsx)(\"div\",{className:\"header\",children:\"Quantity\"}),Object(a.jsx)(\"div\",{className:\"header\",children:\"Image\"}),Object(a.jsx)(\"div\",{className:\"header\",children:\"Name\"}),Object(a.jsx)(\"div\",{className:\"header\",children:\"Subtotal\"})]}),n.length>0&&Object.entries(g).map((function(e){var t=Object(O.a)(e,2),n=t[0],c=t[1],s=r[n];return Object(a.jsxs)(\"div\",{className:\"row\",children:[Object(a.jsx)(\"div\",{className:\"cell\",children:Object(a.jsx)(\"div\",{className:\"remove-formatter\",onClick:function(){return function(e){N((function(t){var n=(t[e]||0)-1,c=Object(l.a)({},t);return 0===n?delete c[e]:n>0&&(c[e]=n),o&&localStorage.setItem(\"shoppingCart::\".concat(o.email),JSON.stringify(c)),c}))}(+n)},children:Object(a.jsx)(J.a,{icon:\"minus\"})})}),Object(a.jsx)(\"div\",{className:\"cell\",children:Object(a.jsx)(\"div\",{className:\"quantity-formatter\",children:c})}),Object(a.jsx)(\"div\",{className:\"cell\",children:Object(a.jsx)(\"div\",{className:\"image-formatter\",style:{backgroundColor:null===s||void 0===s?void 0:s.color}})}),Object(a.jsx)(\"div\",{className:\"cell\",children:Object(a.jsx)(\"div\",{className:\"name-formatter\",children:null===s||void 0===s?void 0:s.name})}),Object(a.jsx)(\"div\",{className:\"cell\",children:Object(a.jsxs)(\"div\",{className:\"price-formatter\",children:[\"$\",(((null===s||void 0===s?void 0:s.price)||0)*c/100).toFixed(2)]})})]},\"row-\".concat(n))}))]}),Object(a.jsxs)(\"div\",{className:\"total\",children:[Object(a.jsx)(f,{color:c.GREEN,shown:D>0&&!E,onClick:_,children:\"Proceed\"}),Object(a.jsx)(Y,{amount:D,shown:E,onCancelButtonClick:function(){I(!1)},onPaySuccess:Q}),Object(a.jsxs)(\"div\",{className:\"amount\",children:[Object(a.jsx)(\"div\",{className:\"text\",children:\"Total\"}),Object(a.jsxs)(\"div\",{className:\"number\",children:[\"$\",(D/100).toFixed(2)]})]})]})]})})]}),Object(a.jsx)($,{message:R,onMessageClear:function(){M(\"\")}})]})})),Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},W=n(14),X=n(15),Z=function e(){Object(x.a)(this,e)};Z.initializeFontAwesomeLibrary=function(){W.b.add(X.c,X.b,X.d,X.a)},Z.initializeFontAwesomeLibrary(),o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(_,{})}),document.getElementById(\"root\")),Q()}},[[41,1,2]]]);","name":"static/js/main.bd4b295b.chunk.js","map":{"version":3,"sources":["static/js/main.bd4b295b.chunk.js"],"names":["this","push","26","module","exports","__webpack_require__","28","29","35","36","37","38","39","40","41","__webpack_exports__","r","BUTTON_COLOR","jsx_runtime","react","react_default","n","react_dom","react_dom_default","defineProperty","objectSpread2","regenerator","regenerator_default","asyncToGenerator","slicedToArray","CONTENT_TYPE","METHOD","button_Button","props","Object","className","concat","color","shown","onClick","children","EMAIL_REGEX","classCallCheck","createClass","mobx_esm","MODE","http_httpFetch","method","path","data","Promise","resolve","fetch","headers","Content-Type","JSON","body","stringify","then","response","json","httpResponse","status","catch","error","console","getApi","GET","postApi","POST","product_store_ProductStore","ProductStore","_this","products","isIndexing","index","a","mark","_callee","wrap","_context","prev","next","sent","successful","abrupt","stop","key","get","reduce","mappedProducts","product","id","user_store_UserStore","UserStore","user","isShowing","isCreating","show","_ref","userEmail","_x","apply","arguments","create","_ref2","_callee2","_context2","_x2","order_store_OrderStore","OrderStore","isPaying","order","pay","amount","_x3","context_productStore","context_userStore","orderStore","storeContext","productStore","userStore","stores_useStore","mobxreact_esm","SHOP_MODE","DEFAULT_USER","name","email","Login","_useState","_useState2","edittedUser","setEdittedUser","_useState3","LOGIN","_useState4","mode","setMode","onSignIn","loggedInUserEmail","localStorage","getItem","loggedIn","type","value","placeholder","onChange","event","target","ORANGE","loginMode","REGISTRATION","GREEN","match","onFail","index_es","product_card_ProductCard","style","backgroundColor","quantity","onAddToCart","icon","price","toFixed","navbar_Navbar","shopMode","CATALOGE","onShopModeChange","CART","inCartProductCount","fontSize","onSignOut","stripe_esm","react_stripe_umd","loading_spinner_LoadingSpinner","CheckoutForm","store","complete","setComplete","isCreatingPaymentMethod","setIsCreatingPaymentMethod","stripe","elements","handleSubmit","_yield$stripe$createP","paymentMethod","preventDefault","createPaymentMethod","card","getElement","onPaySuccess","log","message","onSubmit","onCancelButtonClick","stripeTestPromise","stripe_container_StripeContainer","context_message_ContextMessage","setMessage","showMessage","setShowMessage","isShowingMessage","timeoutId","window","setTimeout","onMessageClear","clearTimeout","Shop","setLoggedIn","shoppingCart","setShoppingCart","_useState5","_useState6","_useState7","_useState8","showStripeContainer","setShowStripeContainer","_useState9","_useState10","contextMessage","setContextMessage","_useMemo","entries","countAndTotal","productId","productCount","total","handleSignIn","_ref3","isNew","storedShoppingCart","setItem","parse","handleFail","handleAddToCart","canAdd","newShoppingCart","handleProceedButtonClick","_ref4","handlePaySuccess","_ref5","_callee3","_context3","removeItem","map","length","_ref6","_ref7","handleRemoveFromCart","src_reportWebVitals","onPerfEntry","Function","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","fontawesome_svg_core_index_es","free_solid_svg_icons_index_es","font_awesome_library_FontAwesomeLibrary","FontAwesomeLibrary","initializeFontAwesomeLibrary","add","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpshop.io\"] = this[\"webpackJsonpshop.io\"] || []).push([[0],{\n\n/***/ 26:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(19);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.scss\nvar src = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/components/button/button.scss\nvar button_button = __webpack_require__(28);\n\n// CONCATENATED MODULE: ./src/components/button/button.tsx\nvar BUTTON_COLOR;(function(BUTTON_COLOR){BUTTON_COLOR[\"GREEN\"]=\"green\";BUTTON_COLOR[\"ORANGE\"]=\"orange\";})(BUTTON_COLOR||(BUTTON_COLOR={}));var button_Button=function Button(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"button \".concat(props.color,\" \").concat(props.shown!==false?'shown':''),onClick:props.onClick,children:props.children});};\n// CONCATENATED MODULE: ./src/util/regex.ts\nvar EMAIL_REGEX=/[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+/;\n// EXTERNAL MODULE: ./src/components/login/login.scss\nvar login = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/mobx/dist/mobx.esm.js\nvar mobx_esm = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/util/http.ts\n// env variable\nvar API_URL=\"http://localhost:3002\";var CONTENT_TYPE;(function(CONTENT_TYPE){CONTENT_TYPE[\"JSON\"]=\"application/json\";})(CONTENT_TYPE||(CONTENT_TYPE={}));var METHOD;(function(METHOD){METHOD[\"GET\"]=\"GET\";METHOD[\"POST\"]=\"POST\";METHOD[\"PATCH\"]=\"PATCH\";METHOD[\"PUT\"]=\"PUT\";METHOD[\"DELETE\"]=\"DELETE\";})(METHOD||(METHOD={}));var http_httpFetch=function httpFetch(method,path,data){return new Promise(function(resolve){fetch(\"\".concat(API_URL,\"/\").concat(path),{method:method,headers:{'Content-Type':CONTENT_TYPE.JSON},body:data?JSON.stringify(data):null}).then(function(response){response.json().then(function(httpResponse){resolve(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},httpResponse),{},{status:response.status}));});}).catch(function(error){console.error(error);});});};var getApi=function getApi(path){return http_httpFetch(METHOD.GET,path);};var deleteApi=function deleteApi(path){return http_httpFetch(METHOD.DELETE,path);};var postApi=function postApi(path,data){return http_httpFetch(METHOD.POST,path,data);};var putApi=function putApi(path,data){return http_httpFetch(METHOD.PUT,path,data);};\n// CONCATENATED MODULE: ./src/stores/product-store.ts\nvar product_store_ProductStore=/*#__PURE__*/function(){function ProductStore(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,ProductStore);this.products=[];this.isIndexing=false;this.index=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.isIndexing=true;_context.next=3;return getApi(_this.path);case 3:response=_context.sent;Object(mobx_esm[\"m\" /* runInAction */])(function(){if(response.successful&&response.data){_this.products=response.data;}});_this.isIndexing=false;return _context.abrupt(\"return\",response.successful);case 7:case\"end\":return _context.stop();}}},_callee);}));Object(mobx_esm[\"k\" /* makeAutoObservable */])(this);}Object(createClass[\"a\" /* default */])(ProductStore,[{key:\"mappedProducts\",get:function get(){return this.products.reduce(function(mappedProducts,product){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},mappedProducts),{},Object(defineProperty[\"a\" /* default */])({},product.id,product));},{});}},{key:\"path\",get:function get(){return'product';}}]);return ProductStore;}();\n// CONCATENATED MODULE: ./src/stores/user-store.ts\nvar user_store_UserStore=/*#__PURE__*/function(){function UserStore(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,UserStore);this.user=void 0;this.isShowing=false;this.isCreating=false;this.show=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(userEmail){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.isShowing=true;_context.next=3;return getApi(\"\".concat(_this.path,\"/\").concat(userEmail));case 3:response=_context.sent;Object(mobx_esm[\"m\" /* runInAction */])(function(){if(response.successful&&response.data){_this.user=response.data;}});_this.isShowing=false;return _context.abrupt(\"return\",response.successful);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.create=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(user){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.isCreating=true;_context2.next=3;return postApi(_this.path,user);case 3:response=_context2.sent;Object(mobx_esm[\"m\" /* runInAction */])(function(){if(response.successful&&response.data){_this.user=response.data;}});_this.isCreating=false;return _context2.abrupt(\"return\",response.successful);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();Object(mobx_esm[\"k\" /* makeAutoObservable */])(this);}Object(createClass[\"a\" /* default */])(UserStore,[{key:\"path\",get:function get(){return'user';}}]);return UserStore;}();\n// CONCATENATED MODULE: ./src/stores/order-store.ts\nvar order_store_OrderStore=/*#__PURE__*/function(){function OrderStore(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,OrderStore);this.isCreating=false;this.isPaying=false;this.create=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(order){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.isCreating=true;_context.next=3;return postApi(_this.path,order);case 3:response=_context.sent;_this.isCreating=false;return _context.abrupt(\"return\",response.successful);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.pay=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(id,amount){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.isPaying=true;_context2.next=3;return postApi(\"\".concat(_this.path,\"/pay\"),{id:id,amount:amount});case 3:response=_context2.sent;_this.isPaying=false;return _context2.abrupt(\"return\",response.successful);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();Object(mobx_esm[\"k\" /* makeAutoObservable */])(this);}Object(createClass[\"a\" /* default */])(OrderStore,[{key:\"path\",get:function get(){return'order';}}]);return OrderStore;}();\n// CONCATENATED MODULE: ./src/stores/context.ts\nvar context_productStore=new product_store_ProductStore();var context_userStore=new user_store_UserStore();var orderStore=new order_store_OrderStore();var storeContext=/*#__PURE__*/Object(react[\"createContext\"])({productStore:context_productStore,userStore:context_userStore,orderStore:orderStore});\n// CONCATENATED MODULE: ./src/stores/index.ts\nvar stores_useStore=function useStore(){return Object(react[\"useContext\"])(storeContext);};\n// EXTERNAL MODULE: ./node_modules/mobx-react/dist/mobxreact.esm.js + 11 modules\nvar mobxreact_esm = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/components/login/login.tsx\nvar MODE;(function(MODE){MODE[MODE[\"LOGIN\"]=0]=\"LOGIN\";MODE[MODE[\"REGISTRATION\"]=1]=\"REGISTRATION\";})(MODE||(MODE={}));var DEFAULT_USER={name:'',email:''};var Login=Object(mobxreact_esm[\"a\" /* observer */])(function(props){var store=stores_useStore();var user=store.userStore.user;var _useState=Object(react[\"useState\"])(DEFAULT_USER),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),edittedUser=_useState2[0],setEdittedUser=_useState2[1];var _useState3=Object(react[\"useState\"])(MODE.LOGIN),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),mode=_useState4[0],setMode=_useState4[1];var onSignIn=props.onSignIn;Object(react[\"useEffect\"])(function(){if(!user){var loggedInUserEmail=localStorage.getItem('loggedInUserEmail');if(loggedInUserEmail){onSignIn({email:loggedInUserEmail},false);}}},[onSignIn,user]);var handleUserNameChange=function handleUserNameChange(event){setEdittedUser(function(user){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},user),{},{name:event.target.value});});};var handleUserEmailChange=function handleUserEmailChange(event){setEdittedUser(function(user){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},user),{},{email:event.target.value});});};var handleRegisterButtonClick=function handleRegisterButtonClick(){setMode(function(loginMode){return loginMode===MODE.REGISTRATION?MODE.LOGIN:MODE.REGISTRATION;});};var handleAcceptButtonClick=function handleAcceptButtonClick(){if(edittedUser.email.match(EMAIL_REGEX)){if(mode===MODE.REGISTRATION){if(edittedUser.name){props.onSignIn(edittedUser,true);}else{props.onFail('Please insert your name.');}}else{props.onSignIn({email:edittedUser.email},false);}}else{props.onFail('Incorrect email format.');}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login \".concat(props.loggedIn?'':'shown'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"brand\",children:[\"shop\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"secondary\",children:\".io\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"user-name-input \".concat(mode===MODE.LOGIN?'':'shown'),type:\"text\",name:\"name\",value:edittedUser.name,placeholder:\"Name: John Wick\",onChange:handleUserNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"email\",value:edittedUser.email,placeholder:\"Email: myname@email.com\",onChange:handleUserEmailChange}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(button_Button,{color:BUTTON_COLOR.ORANGE,onClick:handleRegisterButtonClick,children:mode===MODE.REGISTRATION?'Sign In':'Sign Up'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(button_Button,{color:BUTTON_COLOR.GREEN,onClick:handleAcceptButtonClick,children:\"Accept\"})]})]});});\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/components/product-card/product-card.scss\nvar product_card = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/components/product-card/product-card.tsx\nvar product_card_ProductCard=function ProductCard(props){var handleAddToCart=function handleAddToCart(){props.onAddToCart(props.product);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"product\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"image\",style:{backgroundColor:props.product.color}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"name\",children:props.product.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"quantity\",children:props.product.quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"add-to-cart\",onClick:handleAddToCart,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:\"shopping-cart\"}),\" Add one\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"price\",children:[\"$\",(props.product.price/100).toFixed(2)]})]});};\n// EXTERNAL MODULE: ./src/components/navbar/navbar.scss\nvar navbar = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/components/navbar/navbar.tsx\nvar navbar_Navbar=function Navbar(props){var handleCatalogueActionClick=function handleCatalogueActionClick(){if(props.shopMode!==SHOP_MODE.CATALOGE){props.onShopModeChange(SHOP_MODE.CATALOGE);}};var handleCartActionClick=function handleCartActionClick(){if(props.shopMode!==SHOP_MODE.CART){props.onShopModeChange(SHOP_MODE.CART);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"brand\",children:[\"shop\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"secondary\",children:\".io\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action \".concat(props.shopMode===SHOP_MODE.CATALOGE?'selected':''),onClick:handleCatalogueActionClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:\"store\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"selected-indicator\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action \".concat(props.shopMode===SHOP_MODE.CART?'selected':''),onClick:handleCartActionClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:\"shopping-cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"counter \".concat(props.inCartProductCount>0?'shown':''),children:props.inCartProductCount}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"selected-indicator\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action\",style:{fontSize:18},onClick:props.onSignOut,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:\"sign-out-alt\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"selected-indicator\"})]})]})]});};\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js\nvar react_stripe_umd = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/loading-spinner/loading-spinner.scss\nvar loading_spinner = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/components/loading-spinner/loading-spinner.tsx\nvar loading_spinner_LoadingSpinner=function LoadingSpinner(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]});};\n// EXTERNAL MODULE: ./src/stripe/checkout-form.scss\nvar checkout_form = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/stripe/checkout-form.tsx\nvar CheckoutForm=Object(mobxreact_esm[\"a\" /* observer */])(function(props){var store=stores_useStore();var isPaying=store.orderStore.isPaying||store.orderStore.isCreating;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),complete=_useState2[0],setComplete=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isCreatingPaymentMethod=_useState4[0],setIsCreatingPaymentMethod=_useState4[1];var stripe=Object(react_stripe_umd[\"useStripe\"])();var elements=Object(react_stripe_umd[\"useElements\"])();var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$stripe$createP,error,paymentMethod;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(stripe&&elements)){_context.next=18;break;}setIsCreatingPaymentMethod(true);_context.next=5;return stripe.createPaymentMethod({type:\"card\",card:elements.getElement(react_stripe_umd[\"CardElement\"])});case 5:_yield$stripe$createP=_context.sent;error=_yield$stripe$createP.error;paymentMethod=_yield$stripe$createP.paymentMethod;setIsCreatingPaymentMethod(false);if(error){_context.next=17;break;}if(!paymentMethod){_context.next=15;break;}_context.next=13;return store.orderStore.pay(paymentMethod.id,props.amount);case 13:if(!_context.sent){_context.next=15;break;}props.onPaySuccess();case 15:_context.next=18;break;case 17:console.log(error.message);case 18:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(_ref2){var complete=_ref2.complete;setComplete(complete);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"checkout-form \".concat(props.shown?'shown':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stripe_umd[\"CardElement\"],{onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(button_Button,{color:BUTTON_COLOR.ORANGE,onClick:props.onCancelButtonClick,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:complete?'':'disabled',children:isPaying||isCreatingPaymentMethod?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(loading_spinner_LoadingSpinner,{}):'Pay'})]})]})});});\n// CONCATENATED MODULE: ./src/stripe/stripe-container.tsx\nvar PUBLIC_KEY=\"pk_test_51HpP5lGq34SadLyT4eHD7y2xLr9RK5412Z89ansl8OElyxGRuX6vARNE43KkPtzYInp8zBnrMTLyzYEIn8T9RIIs002h4K7uHN\"||false;var stripeTestPromise=Object(stripe_esm[\"a\" /* loadStripe */])(PUBLIC_KEY);var stripe_container_StripeContainer=function StripeContainer(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stripe_umd[\"Elements\"],{stripe:stripeTestPromise,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CheckoutForm,{amount:props.amount,shown:props.shown,onCancelButtonClick:props.onCancelButtonClick,onPaySuccess:props.onPaySuccess})});};\n// EXTERNAL MODULE: ./src/components/context-message/context-message.scss\nvar context_message = __webpack_require__(39);\n\n// CONCATENATED MODULE: ./src/components/context-message/context-message.tsx\nvar context_message_ContextMessage=function ContextMessage(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showMessage=_useState4[0],setShowMessage=_useState4[1];Object(react[\"useEffect\"])(function(){if(props.message){var isShowingMessage=showMessage;setMessage(props.message);setShowMessage(true);if(!isShowingMessage){var timeoutId=window.setTimeout(function(){setShowMessage(false);window.setTimeout(function(){props.onMessageClear();},300);},3000);return function(){window.clearTimeout(timeoutId);};}}},[props.message]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context-message \".concat(showMessage?'shown':''),children:message||''});};\n// EXTERNAL MODULE: ./src/shop.scss\nvar shop = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/shop.tsx\nvar SHOP_MODE;(function(SHOP_MODE){SHOP_MODE[SHOP_MODE[\"CATALOGE\"]=0]=\"CATALOGE\";SHOP_MODE[SHOP_MODE[\"CART\"]=1]=\"CART\";})(SHOP_MODE||(SHOP_MODE={}));var Shop=Object(mobxreact_esm[\"a\" /* observer */])(function(){var store=stores_useStore();var productStore=store.productStore;var products=productStore.products;var mappedProducts=productStore.mappedProducts;var userStore=store.userStore;var user=store.userStore.user;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),shoppingCart=_useState4[0],setShoppingCart=_useState4[1];var _useState5=Object(react[\"useState\"])(SHOP_MODE.CATALOGE),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),mode=_useState6[0],setMode=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),showStripeContainer=_useState8[0],setShowStripeContainer=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),contextMessage=_useState10[0],setContextMessage=_useState10[1];Object(react[\"useEffect\"])(function(){if(mode===SHOP_MODE.CATALOGE){productStore.index();}},[mode,productStore]);var _useMemo=Object(react[\"useMemo\"])(function(){return Object.entries(shoppingCart).reduce(function(countAndTotal,_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),productId=_ref2[0],productCount=_ref2[1];var product=mappedProducts[productId];return{inCartProductCount:countAndTotal.inCartProductCount+productCount,total:product?countAndTotal.total+productCount*product.price:0};},{inCartProductCount:0,total:0});},[shoppingCart,mappedProducts]),inCartProductCount=_useMemo.inCartProductCount,total=_useMemo.total;var handleSignIn=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(user,isNew){var successful,storedShoppingCart;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:successful=false;if(!isNew){_context.next=7;break;}_context.next=4;return userStore.create(user);case 4:successful=_context.sent;_context.next=10;break;case 7:_context.next=9;return userStore.show(user.email);case 9:successful=_context.sent;case 10:if(successful){setLoggedIn(true);setMode(SHOP_MODE.CATALOGE);localStorage.setItem('loggedInUserEmail',user.email);storedShoppingCart=localStorage.getItem(\"shoppingCart::\".concat(user.email));if(storedShoppingCart){setShoppingCart(JSON.parse(storedShoppingCart));}}else{handleFail('Your email is not registered, please sign up.');}case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleSignIn(_x,_x2){return _ref3.apply(this,arguments);};}();var handleSignOut=function handleSignOut(){setLoggedIn(false);setShoppingCart({});localStorage.removeItem('loggedInUserEmail');};var handleAddToCart=function handleAddToCart(product){setShoppingCart(function(shoppingCart){var productCount=(shoppingCart[product.id]||0)+1;var canAdd=productCount<=product.quantity;var newShoppingCart=canAdd?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},shoppingCart),{},Object(defineProperty[\"a\" /* default */])({},product.id,productCount)):shoppingCart;if(!canAdd){handleFail('Not enough stock.');}if(user){localStorage.setItem(\"shoppingCart::\".concat(user.email),JSON.stringify(newShoppingCart));}return newShoppingCart;});};var handleRemoveFromCart=function handleRemoveFromCart(productId){setShoppingCart(function(shoppingCart){var productCount=(shoppingCart[productId]||0)-1;var newShoppingCart=Object(objectSpread2[\"a\" /* default */])({},shoppingCart);if(productCount===0){delete newShoppingCart[productId];}else if(productCount>0){newShoppingCart[productId]=productCount;}if(user){localStorage.setItem(\"shoppingCart::\".concat(user.email),JSON.stringify(newShoppingCart));}return newShoppingCart;});};var handleModeChange=function handleModeChange(mode){setMode(mode);};var handleProceedButtonClick=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setShowStripeContainer(true);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handleProceedButtonClick(){return _ref4.apply(this,arguments);};}();var handleCancelButtonClick=function handleCancelButtonClick(){setShowStripeContainer(false);};var handlePaySuccess=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!user){_context3.next=8;break;}_context3.next=3;return store.orderStore.create({shoppingCart:shoppingCart,user:user});case 3:if(!_context3.sent){_context3.next=7;break;}setShoppingCart({});setShowStripeContainer(false);localStorage.setItem(\"shoppingCart::\".concat(user.email),JSON.stringify({}));case 7:;case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function handlePaySuccess(){return _ref5.apply(this,arguments);};}();var handleFail=function handleFail(message){setContextMessage(message);};var handleMessageClear=function handleMessageClear(){setContextMessage('');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shop\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{loggedIn:loggedIn,onSignIn:handleSignIn,onFail:handleFail}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"manager \".concat(loggedIn?'shown':''),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(navbar_Navbar,{shopMode:mode,inCartProductCount:inCartProductCount,onShopModeChange:handleModeChange,onSignOut:handleSignOut}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"catalogue\",children:products.map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(product_card_ProductCard,{product:product,onAddToCart:handleAddToCart},\"product-\".concat(product.id));})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart \".concat(mode===SHOP_MODE.CART?'shown':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"summary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"headers\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:\"Quantity\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:\"Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:\"Subtotal\"})]}),products.length>0&&Object.entries(shoppingCart).map(function(_ref6){var _ref7=Object(slicedToArray[\"a\" /* default */])(_ref6,2),productId=_ref7[0],productCount=_ref7[1];var product=mappedProducts[productId];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"remove-formatter\",onClick:function onClick(){return handleRemoveFromCart(+productId);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:\"minus\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"quantity-formatter\",children:productCount})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"image-formatter\",style:{backgroundColor:product===null||product===void 0?void 0:product.color}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"name-formatter\",children:product===null||product===void 0?void 0:product.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"price-formatter\",children:[\"$\",(((product===null||product===void 0?void 0:product.price)||0)*productCount/100).toFixed(2)]})})]},\"row-\".concat(productId));})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"total\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(button_Button,{color:BUTTON_COLOR.GREEN,shown:total>0&&!showStripeContainer,onClick:handleProceedButtonClick,children:\"Proceed\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(stripe_container_StripeContainer,{amount:total,shown:showStripeContainer,onCancelButtonClick:handleCancelButtonClick,onPaySuccess:handlePaySuccess}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"amount\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text\",children:\"Total\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"number\",children:[\"$\",(total/100).toFixed(2)]})]})]})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(context_message_ContextMessage,{message:contextMessage,onMessageClear:handleMessageClear})]});});\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 42)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/@fortawesome/fontawesome-svg-core/index.es.js\nvar fontawesome_svg_core_index_es = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/util/font-awesome-library.ts\nvar font_awesome_library_FontAwesomeLibrary=function FontAwesomeLibrary(){Object(classCallCheck[\"a\" /* default */])(this,FontAwesomeLibrary);};font_awesome_library_FontAwesomeLibrary.initializeFontAwesomeLibrary=function(){fontawesome_svg_core_index_es[\"b\" /* library */].add(free_solid_svg_icons_index_es[\"c\" /* faSignOutAlt */],free_solid_svg_icons_index_es[\"b\" /* faShoppingCart */],free_solid_svg_icons_index_es[\"d\" /* faStore */],free_solid_svg_icons_index_es[\"a\" /* faMinus */]);};\n// CONCATENATED MODULE: ./src/index.tsx\nfont_awesome_library_FontAwesomeLibrary.initializeFontAwesomeLibrary();react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Shop,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[41,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/index.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/button/button.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/login/login.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/product-card/product-card.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/navbar/navbar.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/loading-spinner/loading-spinner.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/stripe/checkout-form.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/context-message/context-message.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/hcampos/Documents/REACT/shop.io/frontend/src/shop.scss","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/button/button.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/util/regex.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/util/http.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/product-store.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/user-store.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/order-store.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/context.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/index.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/login/login.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/product-card/product-card.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/navbar/navbar.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/loading-spinner/loading-spinner.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stripe/checkout-form.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/stripe/stripe-container.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/context-message/context-message.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/shop.tsx","/Users/hcampos/Documents/REACT/shop.io/frontend/src/reportWebVitals.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/util/font-awesome-library.ts","/Users/hcampos/Documents/REACT/shop.io/frontend/src/index.tsx"],"names":["BUTTON_COLOR","Button","props","color","shown","onClick","children","EMAIL_REGEX","API_URL","process","CONTENT_TYPE","METHOD","httpFetch","method","path","data","Promise","resolve","fetch","headers","JSON","body","stringify","then","response","json","httpResponse","status","catch","error","console","getApi","GET","deleteApi","DELETE","postApi","POST","putApi","PUT","ProductStore","products","isIndexing","index","runInAction","successful","makeAutoObservable","reduce","mappedProducts","product","id","UserStore","user","isShowing","isCreating","show","userEmail","create","OrderStore","isPaying","order","pay","amount","productStore","userStore","orderStore","storeContext","createContext","useStore","useContext","MODE","DEFAULT_USER","name","email","Login","observer","store","useState","edittedUser","setEdittedUser","LOGIN","mode","setMode","onSignIn","useEffect","loggedInUserEmail","localStorage","getItem","handleUserNameChange","event","target","value","handleUserEmailChange","handleRegisterButtonClick","loginMode","REGISTRATION","handleAcceptButtonClick","match","onFail","loggedIn","ORANGE","GREEN","ProductCard","handleAddToCart","onAddToCart","backgroundColor","quantity","price","toFixed","Navbar","handleCatalogueActionClick","shopMode","SHOP_MODE","CATALOGE","onShopModeChange","handleCartActionClick","CART","inCartProductCount","fontSize","onSignOut","LoadingSpinner","CheckoutForm","complete","setComplete","isCreatingPaymentMethod","setIsCreatingPaymentMethod","stripe","useStripe","elements","useElements","handleSubmit","preventDefault","createPaymentMethod","type","card","getElement","CardElement","paymentMethod","onPaySuccess","log","message","handleChange","onCancelButtonClick","PUBLIC_KEY","stripeTestPromise","loadStripe","StripeContainer","ContextMessage","setMessage","showMessage","setShowMessage","isShowingMessage","timeoutId","window","setTimeout","onMessageClear","clearTimeout","Shop","setLoggedIn","shoppingCart","setShoppingCart","showStripeContainer","setShowStripeContainer","contextMessage","setContextMessage","useMemo","Object","entries","countAndTotal","productId","productCount","total","handleSignIn","isNew","setItem","storedShoppingCart","parse","handleFail","handleSignOut","removeItem","canAdd","newShoppingCart","handleRemoveFromCart","handleModeChange","handleProceedButtonClick","handleCancelButtonClick","handlePaySuccess","handleMessageClear","map","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","FontAwesomeLibrary","initializeFontAwesomeLibrary","library","add","faSignOutAlt","faShoppingCart","faStore","faMinus","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './button.scss';\n\nexport enum BUTTON_COLOR { \n    GREEN = 'green',\n    ORANGE = 'orange',\n}\n\ninterface ButtonProps {\n    children: React.ReactNode;\n    color: BUTTON_COLOR;\n    shown?: boolean;\n    onClick: () => void;\n}\n\nexport const Button = (props: ButtonProps) => {\n    return (\n        <div\n            className={`button ${props.color} ${props.shown !== false ? 'shown' : ''}`}\n            onClick={props.onClick}\n        >\n            {props.children}\n        </div>\n    );\n}","export const EMAIL_REGEX = /[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+/;","// env variable\nconst API_URL : (string | undefined) = process.env.REACT_APP_API_SERVER_URL;\n\nexport interface HttpResponse<T> {\n    successful: boolean;\n    data?: T;\n    error?: {\n        message: string;\n    };\n}\n\ninterface HttpResponseWithStatus<T> extends HttpResponse<T> {\n    status: Response['status'];\n}\n\nenum CONTENT_TYPE {\n    JSON = 'application/json',\n}\n\nenum METHOD {\n    GET = 'GET',\n    POST = 'POST',\n    PATCH = 'PATCH',\n    PUT = 'PUT',\n    DELETE = 'DELETE',\n}\n\nconst httpFetch = <T extends unknown>(\n    method: METHOD,\n    path: string,\n    data?: Partial<T>,\n): Promise<HttpResponseWithStatus<T>> => {\n    return new Promise(resolve => {\n        fetch(\n            `${API_URL}/${path}`,\n            {\n                method,\n                headers: {\n                    'Content-Type': CONTENT_TYPE.JSON,\n                },\n                body: data ? JSON.stringify(data) : null,\n            },\n        ).then(\n            response => {\n                response.json().then((httpResponse: HttpResponse<T>) => {\n                    resolve({\n                        ...httpResponse,\n                        status: response.status,\n                    });\n                });\n            },\n        ).catch(\n            error => {\n                console.error(error);\n            },\n        );\n    });\n};\n\nexport const getApi = <T extends unknown>(path: string): Promise<HttpResponseWithStatus<T>> => {\n    return httpFetch<T>(METHOD.GET, path);\n};\n\nexport const deleteApi = <T extends unknown>(path: string): Promise<HttpResponseWithStatus<T>> => {\n    return httpFetch<T>(METHOD.DELETE, path);\n};\n\nexport const postApi = <T extends unknown>(path: string, data: Partial<T>): Promise<HttpResponseWithStatus<T>> => {\n    return httpFetch<T>(METHOD.POST, path, data);\n};\n\nexport const putApi = <T extends unknown>(path: string, data: Partial<T>): Promise<HttpResponseWithStatus<T>> => {\n    return httpFetch<T>(METHOD.PUT, path, data);\n};","import { makeAutoObservable, runInAction } from 'mobx';\nimport type { Product } from '../types/product';\nimport { getApi } from '../util/http';\nimport type { Mapped } from '../types/mapped';\n\nexport class ProductStore {\n    products: Product[] = [];\n    isIndexing = false;\n    \n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    get mappedProducts() {\n        return this.products.reduce(\n            (mappedProducts, product) => ({\n                ...mappedProducts,\n                [product.id]: product,\n            }),\n            {} as Mapped<Product>,\n        );\n    }\n\n    get path() {\n        return 'product';\n    }\n\n    index = async () => {\n        this.isIndexing = true;\n\n        const response = await getApi<Product[]>(this.path);\n        runInAction(() => {\n            if (response.successful && response.data) {\n                this.products = response.data;\n            }\n        });\n\n        this.isIndexing = false;\n        \n        return response.successful;\n    }\n}","import { makeAutoObservable, runInAction } from 'mobx';\nimport type { User } from '../types/user';\nimport { getApi, postApi } from '../util/http';\n\nexport class UserStore {\n    user?: User;\n    isShowing = false;\n    isCreating = false;\n    \n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    get path() {\n        return 'user';\n    }\n\n    show = async (userEmail: User['email']) => {\n        this.isShowing = true;\n\n        const response = await getApi<User>(`${this.path}/${userEmail}`);\n        runInAction(() => {\n            if (response.successful && response.data) {\n                this.user = response.data;\n            }\n        });\n\n        this.isShowing = false;\n        \n        return response.successful;\n    }\n\n    create = async (user: User) => {\n        this.isCreating = true;\n\n        const response = await postApi<User>(this.path, user);\n        runInAction(() => {\n            if (response.successful && response.data) {\n                this.user = response.data;\n            }\n        });\n\n        this.isCreating = false;\n\n        return response.successful;\n    }\n}","import { makeAutoObservable } from 'mobx';\nimport { Order } from '../types/order';\nimport { postApi } from '../util/http';\n\nexport class OrderStore {\n    isCreating = false;\n    isPaying = false;\n    \n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    get path() {\n        return 'order';\n    }\n\n    create = async (order: Order) => {\n        this.isCreating = true;\n\n        const response = await postApi<unknown>(this.path, order);\n\n        this.isCreating = false;\n\n        return response.successful;\n    }\n\n    pay = async (id: string, amount: number) => {\n        this.isPaying = true;\n\n        const response = await postApi<unknown>(`${this.path}/pay`, { id, amount })\n\n        this.isPaying = false;\n\n        return response.successful;\n    }\n}","import { createContext } from 'react';\nimport { ProductStore } from './product-store';\nimport { UserStore } from './user-store';\nimport { OrderStore } from './order-store';\n\nconst productStore = new ProductStore();\nconst userStore = new UserStore();\nconst orderStore = new OrderStore();\n\nexport const storeContext = createContext({\n    productStore,\n    userStore,\n    orderStore,\n});","import { useContext } from 'react';\nimport { storeContext } from './context';\n\nexport const useStore = () => useContext(storeContext);","import React, { useEffect, useState } from 'react';\nimport { User } from '../../types/user';\nimport { Button, BUTTON_COLOR } from '../button/button';\nimport { EMAIL_REGEX } from '../../util/regex';\n\nimport './login.scss';\nimport { useStore } from '../../stores';\nimport { observer } from 'mobx-react';\n\ninterface LoginProps {\n    loggedIn: boolean;\n    onSignIn: (user: Partial<User> & Pick<User, 'email'>, isNew: boolean) => void;\n    onFail: (message: string) => void;\n}\n\nenum MODE {\n    LOGIN,\n    REGISTRATION,\n}\n\nconst DEFAULT_USER: User = {\n    name: '',\n    email: '',\n}\n\nexport const Login = observer((props: LoginProps) => {\n    const store = useStore();\n    const user = store.userStore.user;\n\n    const [edittedUser, setEdittedUser] = useState<User>(DEFAULT_USER);\n    const [mode, setMode] = useState<MODE>(MODE.LOGIN);\n    \n    const { onSignIn } = props;\n    useEffect(\n        () => {\n            if (!user) {\n                const loggedInUserEmail = localStorage.getItem('loggedInUserEmail');\n                if (loggedInUserEmail) {\n                    onSignIn({ email: loggedInUserEmail }, false);\n                }\n            }\n        },\n        [onSignIn, user],\n    );\n\n    const handleUserNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setEdittedUser(user => ({ ...user, name: event.target.value }));\n    };\n\n    const handleUserEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setEdittedUser(user => ({ ...user, email: event.target.value }));\n    };\n\n    const handleRegisterButtonClick = () => {\n        setMode(loginMode => loginMode === MODE.REGISTRATION ? MODE.LOGIN : MODE.REGISTRATION);\n    };\n\n    const handleAcceptButtonClick = () => {\n        if (edittedUser.email.match(EMAIL_REGEX)) {\n            if (mode === MODE.REGISTRATION) {\n                if (edittedUser.name) {\n                    props.onSignIn(edittedUser, true);\n                } else {\n                    props.onFail('Please insert your name.');\n                }\n            } else {\n                props.onSignIn({ email: edittedUser.email }, false);\n            }\n        } else {\n            props.onFail('Incorrect email format.');\n        }\n    };\n\n    return (\n        <div className={`login ${props.loggedIn ? '' : 'shown'}`}>\n            <div className=\"brand\">\n                shop<span className=\"secondary\">.io</span>\n            </div>\n            <input\n                className={`user-name-input ${mode === MODE.LOGIN ? '' : 'shown'}`}\n                type=\"text\"\n                name=\"name\"\n                value={edittedUser.name}\n                placeholder=\"Name: John Wick\"\n                onChange={handleUserNameChange}\n            />\n            <input\n                type=\"text\"\n                name=\"email\"\n                value={edittedUser.email}\n                placeholder=\"Email: myname@email.com\"\n                onChange={handleUserEmailChange}\n            />\n            <div className=\"buttons\">\n                <Button\n                    color={BUTTON_COLOR.ORANGE}\n                    onClick={handleRegisterButtonClick}\n                >\n                    {mode === MODE.REGISTRATION ? 'Sign In' : 'Sign Up'}\n                </Button>\n                <Button\n                    color={BUTTON_COLOR.GREEN}\n                    onClick={handleAcceptButtonClick}\n                >\n                    Accept\n                </Button>\n            </div>\n        </div>\n    );\n});","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport type { Product } from '../../types/product';\n\nimport './product-card.scss';\n\ninterface ProductCardProps {\n    product: Product;\n    onAddToCart: (product: Product) => void;\n}\n\nexport const ProductCard = (props: ProductCardProps) => {\n    const handleAddToCart = () => {\n        props.onAddToCart(props.product);\n    };\n\n    return (\n        <div className=\"product\">\n            <div className=\"card\">\n                <div className=\"image\" style={{ backgroundColor: props.product.color }}/>\n                <div className=\"name\">\n                    {props.product.name}\n                </div>\n                <div className=\"quantity\">\n                    {props.product.quantity}\n                </div>\n                <div className=\"add-to-cart\" onClick={handleAddToCart}>\n                    <FontAwesomeIcon icon=\"shopping-cart\"/> Add one\n                </div>\n            </div>\n            <div className=\"price\">\n                ${(props.product.price / 100).toFixed(2)}\n            </div>\n        </div>\n    );\n};","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { SHOP_MODE } from '../../shop';\n\nimport './navbar.scss';\n\ninterface NavbarProps {\n    shopMode: SHOP_MODE;\n    inCartProductCount: number;\n    onShopModeChange: (mode: SHOP_MODE) => void;\n    onSignOut: () => void;\n}\n\nexport const Navbar = (props: NavbarProps) => {\n    const handleCatalogueActionClick = () => {\n        if (props.shopMode !== SHOP_MODE.CATALOGE) {\n            props.onShopModeChange(SHOP_MODE.CATALOGE);\n        }\n    }\n    \n    const handleCartActionClick = () => {\n        if (props.shopMode !== SHOP_MODE.CART) {\n            props.onShopModeChange(SHOP_MODE.CART);\n        }\n    }\n\n    return (\n        <div className=\"navbar\">\n            <div className=\"brand\">\n                shop<span className=\"secondary\">.io</span>\n            </div>\n            <div className=\"actions\">\n                <div\n                    className={`action ${props.shopMode === SHOP_MODE.CATALOGE ? 'selected' : ''}`}\n                    onClick={handleCatalogueActionClick}\n                >\n                    <FontAwesomeIcon icon=\"store\"/>\n                    <div className=\"selected-indicator\"/>\n                </div>\n                <div\n                    className={`action ${props.shopMode === SHOP_MODE.CART ? 'selected' : ''}`}\n                    onClick={handleCartActionClick}\n                >\n                    <FontAwesomeIcon icon=\"shopping-cart\"/>\n                    <div className={`counter ${props.inCartProductCount > 0 ? 'shown' : ''}`}>\n                        {props.inCartProductCount}\n                    </div>\n                    <div className=\"selected-indicator\"/>\n                </div>\n                <div\n                    className=\"action\"\n                    style={{ fontSize: 18 }}\n                    onClick={props.onSignOut}\n                >\n                    <FontAwesomeIcon icon=\"sign-out-alt\"/>\n                    <div className=\"selected-indicator\"/>\n                </div>\n            </div>\n        </div>\n    );\n};","import React from 'react';\nimport './loading-spinner.scss';\n\nexport const LoadingSpinner = () => {\n    return (\n        <div className=\"loading-spinner\"><div/><div/><div/><div/></div>\n    );\n}","import React, { useState } from 'react';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { useStore } from '../stores';\nimport { Button, BUTTON_COLOR } from '../components/button/button';\nimport { LoadingSpinner } from '../components/loading-spinner/loading-spinner';\n\nimport './checkout-form.scss';\nimport { StripeCardElementChangeEvent } from '@stripe/stripe-js';\nimport { observer } from 'mobx-react';\n\ninterface CheckoutFormProps {\n    amount: number;\n    shown: boolean;\n    onCancelButtonClick: () => void;\n    onPaySuccess: () => void;\n}\n\nexport const CheckoutForm = observer((props: CheckoutFormProps) => {\n    const store = useStore();\n    const isPaying = store.orderStore.isPaying || store.orderStore.isCreating;\n    const [complete, setComplete] = useState<boolean>(false);\n    const [isCreatingPaymentMethod, setIsCreatingPaymentMethod] = useState<boolean>(false);\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        if (stripe && elements) {\n            setIsCreatingPaymentMethod(true);\n            const { error, paymentMethod } = await stripe.createPaymentMethod({\n                type: \"card\",\n                card: elements.getElement(CardElement)!,\n            });\n            setIsCreatingPaymentMethod(false);\n    \n            if (!error) {\n                if (paymentMethod) {\n                    if (await store.orderStore.pay(paymentMethod.id, props.amount)) {\n                        props.onPaySuccess();\n                    }\n                }\n            } else {\n                console.log(error.message);\n            }\n        }\n    };\n\n    const handleChange = ({ complete }: StripeCardElementChangeEvent) => {\n        setComplete(complete);\n    };\n\n    return (\n        <div className={`checkout-form ${props.shown ? 'shown' : ''}`}>\n            <form onSubmit={handleSubmit}>\n                <CardElement onChange={handleChange}/>\n                <div className=\"buttons\">\n                    <Button color={BUTTON_COLOR.ORANGE} onClick={props.onCancelButtonClick}>\n                        Cancel\n                    </Button>\n                    <button className={complete ? '' : 'disabled'}>\n                        {(isPaying || isCreatingPaymentMethod) ? <LoadingSpinner/> : 'Pay'}\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n});","import React from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { CheckoutForm } from './checkout-form';\n\nconst PUBLIC_KEY = process.env.REACT_APP_STRIPE_PUBLIC_KEY || '';\n\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\ninterface StripeContainerProps {\n    amount: number;\n    shown: boolean;\n    onCancelButtonClick: () => void;\n    onPaySuccess: () => void;\n}\n\nexport const StripeContainer = (props: StripeContainerProps) => {\n    return (\n        <Elements stripe={stripeTestPromise}>\n            <CheckoutForm\n                amount={props.amount}\n                shown={props.shown}\n                onCancelButtonClick={props.onCancelButtonClick}\n                onPaySuccess={props.onPaySuccess}\n            />\n        </Elements>\n    );\n};","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport './context-message.scss';\n\ninterface ContextMessageProps {\n    message: string;\n    onMessageClear: () => void;\n}\n\nexport const ContextMessage = (props: ContextMessageProps) => {\n    const [message, setMessage] = useState<string>('');\n    const [showMessage, setShowMessage] = useState<boolean>(false);\n\n    useEffect(\n        () => {\n            if (props.message) {\n                const isShowingMessage = showMessage;\n                setMessage(props.message);\n                setShowMessage(true);\n\n                if (!isShowingMessage) {\n                    const timeoutId = window.setTimeout(\n                        () => {\n                            setShowMessage(false);\n\n                            window.setTimeout(\n                                () => {\n                                    props.onMessageClear();\n                                },\n                                300,\n                            )\n                        },\n                        3000,\n                    )\n    \n                    return () => {\n                        window.clearTimeout(timeoutId);\n                    }\n                }\n            }\n        },\n        [props.message],\n    );\n\n    return (\n        <div className={`context-message ${showMessage ? 'shown' : ''}`}>\n            {message || ''}\n        </div>\n    );\n}","import React, { useEffect, useMemo, useState } from 'react';\nimport { Login } from './components/login/login';\nimport { User } from './types/user';\nimport { useStore } from './stores';\nimport { ProductCard } from './components/product-card/product-card';\nimport { Navbar } from './components/navbar/navbar';\nimport { Product } from './types/product';\nimport { observer } from 'mobx-react';\nimport { Button, BUTTON_COLOR } from './components/button/button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ShoppingCart } from './types/shopping-cart';\nimport { StripeContainer } from './stripe/stripe-container';\nimport { ContextMessage } from './components/context-message/context-message';\n\nimport './shop.scss';\n\nexport enum SHOP_MODE {\n    CATALOGE,\n    CART,\n}\n\nexport const Shop = observer(() => {\n    const store = useStore();\n    const productStore = store.productStore;\n    const products = productStore.products;\n    const mappedProducts = productStore.mappedProducts;\n    const userStore = store.userStore;\n    const user = store.userStore.user;\n\n    const [loggedIn, setLoggedIn] = useState<boolean>(false);\n    const [shoppingCart, setShoppingCart] = useState<ShoppingCart>({});\n    const [mode, setMode] = useState<SHOP_MODE>(SHOP_MODE.CATALOGE);\n    const [showStripeContainer, setShowStripeContainer] = useState<boolean>(false);\n    const [contextMessage, setContextMessage] = useState<string>('');\n\n    useEffect(\n        () => {\n            if (mode === SHOP_MODE.CATALOGE) {\n                productStore.index();\n            }\n        },\n        [mode, productStore],\n    );\n\n    const { inCartProductCount, total } = useMemo(\n        () => {\n            return Object.entries(shoppingCart).reduce(\n                (countAndTotal, [productId, productCount]) => {\n                    const product = mappedProducts[productId];\n\n                    return {\n                        inCartProductCount: countAndTotal.inCartProductCount + productCount,\n                        total: product\n                            ? countAndTotal.total + (productCount * product.price)\n                            : 0,\n                    };\n                },\n                {\n                    inCartProductCount: 0,\n                    total: 0,\n                },\n            );\n        },\n        [shoppingCart, mappedProducts],\n    );\n\n    const handleSignIn = async (user: Partial<User> & Pick<User, 'email'>, isNew: boolean) => {\n        let successful = false;\n\n        if (isNew) {\n            successful = await userStore.create(user as User);\n        } else {\n            successful = await userStore.show(user.email);\n        }\n\n        if (successful) {\n            setLoggedIn(true);\n            setMode(SHOP_MODE.CATALOGE);\n            localStorage.setItem('loggedInUserEmail', user.email);\n            const storedShoppingCart = localStorage.getItem(`shoppingCart::${user.email}`);\n            if (storedShoppingCart) {\n                setShoppingCart(JSON.parse(storedShoppingCart));\n            }\n        } else {\n            handleFail('Your email is not registered, please sign up.')\n        }\n    };\n\n    const handleSignOut = () => {\n        setLoggedIn(false);\n        setShoppingCart({});\n        localStorage.removeItem('loggedInUserEmail');\n    };\n\n    const handleAddToCart = (product: Product) => {\n        setShoppingCart(shoppingCart => {\n            const productCount = (shoppingCart[product.id] || 0) + 1;\n\n            const canAdd = productCount <= product.quantity;\n\n            const newShoppingCart = canAdd\n                ? {\n                    ...shoppingCart,\n                    [product.id]: productCount,\n                } : shoppingCart;\n\n            if (!canAdd) {\n                handleFail('Not enough stock.')\n            }\n\n            if (user) {\n                localStorage.setItem(`shoppingCart::${user.email}`, JSON.stringify(newShoppingCart));\n            }\n\n            return newShoppingCart;\n        });\n    };\n\n    const handleRemoveFromCart = (productId: Product['id']) => {\n        setShoppingCart(shoppingCart => {\n            const productCount = (shoppingCart[productId] || 0) - 1;\n\n            const newShoppingCart = {\n                ...shoppingCart,\n            };\n\n            if (productCount === 0) {\n                delete newShoppingCart[productId];\n            } else if (productCount > 0) {\n                newShoppingCart[productId] = productCount;\n            }\n\n            if (user) {\n                localStorage.setItem(`shoppingCart::${user.email}`, JSON.stringify(newShoppingCart));\n            }\n\n            return newShoppingCart;\n        });\n    };\n\n    const handleModeChange = (mode: SHOP_MODE) => {\n        setMode(mode);\n    };\n\n    const handleProceedButtonClick = async () => {\n        setShowStripeContainer(true);\n    };\n\n    const handleCancelButtonClick = () => {\n        setShowStripeContainer(false);\n    };\n\n    const handlePaySuccess = async () => {\n        if (user) {\n            if (await store.orderStore.create({\n                shoppingCart,\n                user,\n            })) {\n                setShoppingCart({});\n                setShowStripeContainer(false);\n                localStorage.setItem(`shoppingCart::${user.email}`, JSON.stringify({}));\n            };\n        }\n    };\n\n    const handleFail = (message: string) => {\n        setContextMessage(message);\n    };\n\n    const handleMessageClear = () => {\n        setContextMessage('');\n    }\n\n    return (\n        <div className=\"shop\">\n            <Login\n                loggedIn={loggedIn}\n                onSignIn={handleSignIn}\n                onFail={handleFail}\n            />\n            <div className={`manager ${loggedIn ? 'shown' : ''}`}>\n                <Navbar\n                    shopMode={mode}\n                    inCartProductCount={inCartProductCount}\n                    onShopModeChange={handleModeChange}\n                    onSignOut={handleSignOut}\n                />\n                <div className=\"catalogue\">\n                    {products.map(product => (\n                        <ProductCard\n                            key={`product-${product.id}`}\n                            product={product}\n                            onAddToCart={handleAddToCart}\n                        />\n                    ))}\n                </div>\n                <div className={`cart ${mode === SHOP_MODE.CART ? 'shown' : ''}`}>\n                    <div className=\"summary\">\n                        <div className=\"table\">\n                            <div className=\"headers\">\n                                <div className=\"header\"/>\n                                <div className=\"header\">\n                                    Quantity\n                                </div>\n                                <div className=\"header\">\n                                    Image\n                                </div>\n                                <div className=\"header\">\n                                    Name\n                                </div>\n                                <div className=\"header\">\n                                    Subtotal\n                                </div>\n                            </div>\n                            {products.length > 0 && Object.entries(shoppingCart).map(([productId, productCount]) => {\n                                const product = mappedProducts[productId];\n\n                                return (\n                                    <div key={`row-${productId}`} className=\"row\">\n                                        <div className=\"cell\">\n                                            <div\n                                                className=\"remove-formatter\"\n                                                onClick={() => handleRemoveFromCart(+productId)}\n                                            >\n                                                <FontAwesomeIcon icon=\"minus\"/>\n                                            </div>\n                                        </div>\n                                        <div className=\"cell\">\n                                            <div className=\"quantity-formatter\">\n                                                {productCount}\n                                            </div>\n                                        </div>\n                                        <div className=\"cell\">\n                                            <div className=\"image-formatter\" style={{ backgroundColor: product?.color }}/>\n                                        </div>\n                                        <div className=\"cell\">\n                                            <div className=\"name-formatter\">\n                                                {product?.name}\n                                            </div>\n                                        </div>\n                                        <div className=\"cell\">\n                                            <div className=\"price-formatter\">\n                                                ${(((product?.price || 0) * productCount) / 100).toFixed(2)}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                        <div className=\"total\">\n                            <Button\n                                color={BUTTON_COLOR.GREEN}\n                                shown={total > 0 && !showStripeContainer}\n                                onClick={handleProceedButtonClick}\n                            >\n                                Proceed\n                            </Button>\n                            <StripeContainer\n                                amount={total}\n                                shown={showStripeContainer}\n                                onCancelButtonClick={handleCancelButtonClick}\n                                onPaySuccess={handlePaySuccess}\n                            />\n                            <div className=\"amount\">\n                                <div className=\"text\">\n                                    Total\n                                </div>\n                                <div className=\"number\">\n                                ${(total / 100).toFixed(2)}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <ContextMessage message={contextMessage} onMessageClear={handleMessageClear}/>\n        </div>\n    );\n});\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n    faSignOutAlt,\n    faShoppingCart,\n    faStore,\n    faMinus,\n} from '@fortawesome/free-solid-svg-icons';\n\nexport class FontAwesomeLibrary {\n    static initializeFontAwesomeLibrary = () => {\n        library.add(\n            faSignOutAlt,\n            faShoppingCart,\n            faStore,\n            faMinus,\n        );\n    };\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { Shop } from './shop';\nimport reportWebVitals from './reportWebVitals';\nimport { FontAwesomeLibrary } from './util/font-awesome-library';\n\nFontAwesomeLibrary.initializeFontAwesomeLibrary();\n\nReactDOM.render(\n    <React.StrictMode>\n        <Shop />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}