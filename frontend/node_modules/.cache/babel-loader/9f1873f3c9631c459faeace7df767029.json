{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/login/login.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, BUTTON_COLOR } from '../button/button';\nimport { EMAIL_REGEX } from '../../util/regex';\nimport './login.scss';\nvar MODE;\n\n(function (MODE) {\n  MODE[MODE[\"LOGIN\"] = 0] = \"LOGIN\";\n  MODE[MODE[\"REGISTRATION\"] = 1] = \"REGISTRATION\";\n})(MODE || (MODE = {}));\n\nconst DEFAULT_USER = {\n  name: '',\n  email: ''\n};\nexport const Login = props => {\n  _s();\n\n  const [user, setUser] = useState(DEFAULT_USER);\n  const [mode, setMode] = useState(MODE.LOGIN);\n\n  const handleUserNameChange = event => {\n    setUser(user => ({ ...user,\n      name: event.target.value\n    }));\n  };\n\n  const handleUserEmailChange = event => {\n    setUser(user => ({ ...user,\n      email: event.target.value\n    }));\n  };\n\n  const handleRegisterButtonClick = () => {\n    setMode(loginMode => loginMode === MODE.REGISTRATION ? MODE.LOGIN : MODE.REGISTRATION);\n  };\n\n  const handleAcceptButtonClick = () => {\n    if (user.email.match(EMAIL_REGEX)) {\n      if (mode === MODE.REGISTRATION) {\n        if (user.name) {\n          props.onSignIn(user, true);\n        }\n      } else {\n        props.onSignIn({\n          email: user.email\n        }, false);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `login ${props.loggedIn ? '' : 'shown'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"brand\",\n      children: [\"shop\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"secondary\",\n        children: \".io\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: `user-name-input ${mode === MODE.LOGIN ? '' : 'shown'}`,\n      type: \"text\",\n      value: user.name,\n      placeholder: \"Name: John Wick\",\n      onChange: handleUserNameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: user.email,\n      placeholder: \"Email: myname@email.com\",\n      onChange: handleUserEmailChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: BUTTON_COLOR.ORANGE,\n        onClick: handleRegisterButtonClick,\n        children: mode === MODE.REGISTRATION ? 'Sign In' : 'Sign Up'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: BUTTON_COLOR.GREEN,\n        onClick: handleAcceptButtonClick,\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"RV2c+oeBz7l0QGHCs0aut4RIwL8=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/hcampos/Documents/REACT/shop.io/frontend/src/components/login/login.tsx"],"names":["React","useState","Button","BUTTON_COLOR","EMAIL_REGEX","MODE","DEFAULT_USER","name","email","Login","props","user","setUser","mode","setMode","LOGIN","handleUserNameChange","event","target","value","handleUserEmailChange","handleRegisterButtonClick","loginMode","REGISTRATION","handleAcceptButtonClick","match","onSignIn","loggedIn","ORANGE","GREEN"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { User } from '../../types/user';\nimport { Button, BUTTON_COLOR } from '../button/button';\nimport { EMAIL_REGEX } from '../../util/regex';\n\nimport './login.scss';\n\ninterface LoginProps {\n    loggedIn: boolean;\n    onSignIn: (user: Partial<User> & Pick<User, 'email'>, isNew: boolean) => void;\n}\n\nenum MODE {\n    LOGIN,\n    REGISTRATION,\n}\n\nconst DEFAULT_USER: User = {\n    name: '',\n    email: '',\n}\n\nexport const Login = (props: LoginProps) => {\n    const [user, setUser] = useState<User>(DEFAULT_USER);\n    const [mode, setMode] = useState<MODE>(MODE.LOGIN);\n\n    const handleUserNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setUser(user => ({ ...user, name: event.target.value }));\n    };\n\n    const handleUserEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setUser(user => ({ ...user, email: event.target.value }));\n    };\n\n    const handleRegisterButtonClick = () => {\n        setMode(loginMode => loginMode === MODE.REGISTRATION ? MODE.LOGIN : MODE.REGISTRATION);\n    };\n\n    const handleAcceptButtonClick = () => {\n        if (user.email.match(EMAIL_REGEX)) {\n            if (mode === MODE.REGISTRATION) {\n                if (user.name) {\n                    props.onSignIn(user, true);\n                }\n            } else {\n                props.onSignIn({ email: user.email }, false);\n            }\n        }\n    };\n\n    return (\n        <div className={`login ${props.loggedIn ? '' : 'shown'}`}>\n            <div className=\"brand\">\n                shop<span className=\"secondary\">.io</span>\n            </div>\n            <input\n                className={`user-name-input ${mode === MODE.LOGIN ? '' : 'shown'}`}\n                type=\"text\"\n                value={user.name}\n                placeholder=\"Name: John Wick\"\n                onChange={handleUserNameChange}\n            />\n            <input\n                type=\"text\"\n                value={user.email}\n                placeholder=\"Email: myname@email.com\"\n                onChange={handleUserEmailChange}\n            />\n            <div className=\"buttons\">\n                <Button\n                    color={BUTTON_COLOR.ORANGE}\n                    onClick={handleRegisterButtonClick}\n                >\n                    {mode === MODE.REGISTRATION ? 'Sign In' : 'Sign Up'}\n                </Button>\n                <Button\n                    color={BUTTON_COLOR.GREEN}\n                    onClick={handleAcceptButtonClick}\n                >\n                    Accept\n                </Button>\n            </div>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}