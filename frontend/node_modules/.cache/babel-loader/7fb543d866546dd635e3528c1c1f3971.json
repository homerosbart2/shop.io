{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import{makeAutoObservable}from'mobx';import{postApi}from'../util/http';export var OrderStore=/*#__PURE__*/function(){function OrderStore(){var _this=this;_classCallCheck(this,OrderStore);this.isCreating=false;this.isPaying=false;this.create=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(order){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.isCreating=true;_context.next=3;return postApi(_this.path,order);case 3:response=_context.sent;_this.isCreating=false;return _context.abrupt(\"return\",response.successful);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.pay=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,amount){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.isPaying=true;_context2.next=3;return postApi(\"\".concat(_this.path,\"/pay\"),{id:id,amount:amount});case 3:response=_context2.sent;_this.isPaying=false;return _context2.abrupt(\"return\",response.successful);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();makeAutoObservable(this);}_createClass(OrderStore,[{key:\"path\",get:function get(){return'order';}}]);return OrderStore;}();","map":{"version":3,"sources":["/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/order-store.ts"],"names":["makeAutoObservable","postApi","OrderStore","isCreating","isPaying","create","order","path","response","successful","pay","id","amount"],"mappings":"mpBAAA,OAASA,kBAAT,KAAmC,MAAnC,CAEA,OAASC,OAAT,KAAwB,cAAxB,CAEA,UAAaC,CAAAA,UAAb,yBAII,qBAAc,sDAHdC,UAGc,CAHD,KAGC,MAFdC,QAEc,CAFH,KAEG,MAQdC,MARc,0FAQL,iBAAOC,KAAP,+HACL,KAAI,CAACH,UAAL,CAAkB,IAAlB,CADK,sBAGkBF,CAAAA,OAAO,CAAU,KAAI,CAACM,IAAf,CAAqBD,KAArB,CAHzB,QAGCE,QAHD,eAKL,KAAI,CAACL,UAAL,CAAkB,KAAlB,CALK,gCAOEK,QAAQ,CAACC,UAPX,wDARK,oEAkBdC,GAlBc,2FAkBR,kBAAOC,EAAP,CAAmBC,MAAnB,mIACF,KAAI,CAACR,QAAL,CAAgB,IAAhB,CADE,uBAGqBH,CAAAA,OAAO,WAAa,KAAI,CAACM,IAAlB,SAA8B,CAAEI,EAAE,CAAFA,EAAF,CAAMC,MAAM,CAANA,MAAN,CAA9B,CAH5B,QAGIJ,QAHJ,gBAKF,KAAI,CAACJ,QAAL,CAAgB,KAAhB,CALE,iCAOKI,QAAQ,CAACC,UAPd,0DAlBQ,qEACVT,kBAAkB,CAAC,IAAD,CAAlB,CACH,CANL,uDAQe,CACP,MAAO,OAAP,CACH,CAVL","sourcesContent":["import { makeAutoObservable } from 'mobx';\nimport { Order } from '../types/order';\nimport { postApi } from '../util/http';\n\nexport class OrderStore {\n    isCreating = false;\n    isPaying = false;\n    \n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    get path() {\n        return 'order';\n    }\n\n    create = async (order: Order) => {\n        this.isCreating = true;\n\n        const response = await postApi<unknown>(this.path, order);\n\n        this.isCreating = false;\n\n        return response.successful;\n    }\n\n    pay = async (id: string, amount: number) => {\n        this.isPaying = true;\n\n        const response = await postApi<unknown>(`${this.path}/pay`, { id, amount })\n\n        this.isPaying = false;\n\n        return response.successful;\n    }\n}"]},"metadata":{},"sourceType":"module"}