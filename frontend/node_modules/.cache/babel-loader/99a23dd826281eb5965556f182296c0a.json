{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hcampos/Documents/REACT/shop.io/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import{makeAutoObservable,runInAction}from'mobx';import{getApi,postApi}from'../util/http';export var UserStore=/*#__PURE__*/function(){function UserStore(){var _this=this;_classCallCheck(this,UserStore);this.user=void 0;this.isShowing=false;this.isCreating=false;this.show=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userEmail){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.isShowing=true;_context.next=3;return getApi(\"\".concat(_this.path,\"/\").concat(userEmail));case 3:response=_context.sent;runInAction(function(){if(response.successful&&response.data){_this.user=response.data;}});_this.isShowing=false;return _context.abrupt(\"return\",response.successful);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.create=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.isCreating=true;_context2.next=3;return postApi(_this.path,user);case 3:response=_context2.sent;runInAction(function(){if(response.successful&&response.data){_this.user=response.data;}});_this.isCreating=false;return _context2.abrupt(\"return\",response.successful);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();makeAutoObservable(this);}_createClass(UserStore,[{key:\"path\",get:function get(){return'user';}}]);return UserStore;}();","map":{"version":3,"sources":["/Users/hcampos/Documents/REACT/shop.io/frontend/src/stores/user-store.ts"],"names":["makeAutoObservable","runInAction","getApi","postApi","UserStore","user","isShowing","isCreating","show","userEmail","path","response","successful","data","create"],"mappings":"mpBAAA,OAASA,kBAAT,CAA6BC,WAA7B,KAAgD,MAAhD,CAEA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,cAAhC,CAEA,UAAaC,CAAAA,SAAb,yBAKI,oBAAc,qDAJdC,IAIc,aAHdC,SAGc,CAHF,KAGE,MAFdC,UAEc,CAFD,KAEC,MAQdC,IARc,0FAQP,iBAAOC,SAAP,+HACH,KAAI,CAACH,SAAL,CAAiB,IAAjB,CADG,sBAGoBJ,CAAAA,MAAM,WAAU,KAAI,CAACQ,IAAf,aAAuBD,SAAvB,EAH1B,QAGGE,QAHH,eAIHV,WAAW,CAAC,UAAM,CACd,GAAIU,QAAQ,CAACC,UAAT,EAAuBD,QAAQ,CAACE,IAApC,CAA0C,CACtC,KAAI,CAACR,IAAL,CAAYM,QAAQ,CAACE,IAArB,CACH,CACJ,CAJU,CAAX,CAMA,KAAI,CAACP,SAAL,CAAiB,KAAjB,CAVG,gCAYIK,QAAQ,CAACC,UAZb,wDARO,oEAuBdE,MAvBc,2FAuBL,kBAAOT,IAAP,mIACL,KAAI,CAACE,UAAL,CAAkB,IAAlB,CADK,uBAGkBJ,CAAAA,OAAO,CAAO,KAAI,CAACO,IAAZ,CAAkBL,IAAlB,CAHzB,QAGCM,QAHD,gBAILV,WAAW,CAAC,UAAM,CACd,GAAIU,QAAQ,CAACC,UAAT,EAAuBD,QAAQ,CAACE,IAApC,CAA0C,CACtC,KAAI,CAACR,IAAL,CAAYM,QAAQ,CAACE,IAArB,CACH,CACJ,CAJU,CAAX,CAMA,KAAI,CAACN,UAAL,CAAkB,KAAlB,CAVK,iCAYEI,QAAQ,CAACC,UAZX,0DAvBK,iEACVZ,kBAAkB,CAAC,IAAD,CAAlB,CACH,CAPL,sDASe,CACP,MAAO,MAAP,CACH,CAXL","sourcesContent":["import { makeAutoObservable, runInAction } from 'mobx';\nimport type { User } from '../types/user';\nimport { getApi, postApi } from '../util/http';\n\nexport class UserStore {\n    user?: User;\n    isShowing = false;\n    isCreating = false;\n    \n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    get path() {\n        return 'user';\n    }\n\n    show = async (userEmail: User['email']) => {\n        this.isShowing = true;\n\n        const response = await getApi<User>(`${this.path}/${userEmail}`);\n        runInAction(() => {\n            if (response.successful && response.data) {\n                this.user = response.data;\n            }\n        });\n\n        this.isShowing = false;\n        \n        return response.successful;\n    }\n\n    create = async (user: User) => {\n        this.isCreating = true;\n\n        const response = await postApi<User>(this.path, user);\n        runInAction(() => {\n            if (response.successful && response.data) {\n                this.user = response.data;\n            }\n        });\n\n        this.isCreating = false;\n\n        return response.successful;\n    }\n}"]},"metadata":{},"sourceType":"module"}